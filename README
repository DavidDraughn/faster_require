A little utility to make

require 'xxx'

take much less time.  As in much less.  Well, on windows at least. And to speedup how long it takes things to load in windows, like rails apps.

Well, mostly on windows--on linux it's a speedup of only 0.41 to 0.45s, or so. [1]

If you've ever wondered why ruby feels slow on doze...sometimes it's just the startup time.  This really helps.

Benchmarks:

loading a (blank) rspec file:

  1.9.1   
    without 3.20s
    with 0.34s (10x improvement)

  1.8.6
    without 3.6s
    with 1.25s
    

rails app, running script/console "puts 333"

 1.9.1
   without:
      20s
    with:
      10s
 
 1.8.6 
   without:
       9s
   with:
       6s
       
running "rake -T"

 1.9.1
   without: 3.75s
   with: 1.5s       

 1.8.6
   without: 1.37s
   with:    1.25s
   
Note: in reality what we should do is fix core so that it doesn't have such awful I/O time in windows.  There may be some gross inefficiency in there.  For now, this is a work-around.
   
[1] If anybody asks me for it, I'll come up with a way to *always* preload this when using rubygems, to speed up "everything" [hopefully].  Note also that
if things get corrupted or messed up, you can run the (included) faster_require command/script ($ faster_require --clear-cache) and it will clear it.

== How to use in Rails ==

You can either install the gem, then add a

require 'rubygems'
require 'faster_require'

in your config/environment.rb, or (the best way is as follows):

Unpack it somewhere, like lib
$ cd my_rails_app/lib
$ gem unpack faster_require

Now add this line to your config/environment.rb:

require File.dirname(__FILE__) + "/../lib/faster_require-0.7.0/lib/faster_require" # faster speeds all around...make sure to update it to whatever version number you downloaded.

add it *before* this other (existing) line:

require File.join(File.dirname(__FILE__), 'boot')

Now it will speedup loading rubygems and everything. Happiness.

Any problems report back: https://github.com/rdp/faster_require

Enjoy.